/*
 * AMD GCN ISA Assembler
 *
 * GCN ISA instruction structures
 *
 * This software is Copyright 2013, Daniel Bali <balijanosdaniel at gmail.com>,
 * and it is hereby released to the general public under the following terms:
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted.
 */

#include "isa_instr.h"

const isa_instr isa_instr_list[] =
{
	// SOP2 instructions
	{"S_ADD_U32",				0x80000000, SOP2},
	{"S_SUB_U32",				0x80800000, SOP2},
	{"S_ADD_I32",				0x81000000, SOP2},
	{"S_SUB_I32",				0x81800000, SOP2},
	{"S_ADDC_U32",				0x82000000, SOP2},
	{"S_SUBB_U32",				0x82800000, SOP2},
	{"S_MIN_I32",				0x83000000, SOP2},
	{"S_MIN_U32",				0x83800000, SOP2},
	{"S_MAX_I32",				0x84000000, SOP2},
	{"S_MAX_U32",				0x84800000, SOP2},
	{"S_CSELECT_B32",			0x85000000, SOP2},
	{"S_CSELECT_B64",			0x85800000, SOP2},
	{"S_AND_B32",				0x87000000, SOP2},
	{"S_AND_B64",				0x87800000, SOP2},
	{"S_OR_B32",				0x88000000, SOP2},
	{"S_OR_B64",				0x88800000, SOP2},
	{"S_XOR_B32",				0x89000000, SOP2},
	{"S_XOR_B64",				0x89800000, SOP2},
	{"S_ANDN2_B32",				0x8A000000, SOP2},
	{"S_ANDN2_B64",				0x8A800000, SOP2},
	{"S_ORN2_B32",				0x8B000000, SOP2},
	{"S_ORN2_B64",				0x8B800000, SOP2},
	{"S_NAND_B32",				0x8C000000, SOP2},
	{"S_NAND_B64",				0x8C800000, SOP2},
	{"S_NOR_B32",				0x8D000000, SOP2},
	{"S_NOR_B64",				0x8D800000, SOP2},
	{"S_XNOR_B32",				0x8E000000, SOP2},
	{"S_XNOR_B64",				0x8E800000, SOP2},
	{"S_LSHL_B32",				0x8F000000, SOP2},
	{"S_LSHL_B64",				0x8F800000, SOP2},
	{"S_LSHR_B32",				0x90000000, SOP2},
	{"S_LSHR_B64",				0x90800000, SOP2},
	{"S_ASHR_I32",				0x91000000, SOP2},
	{"S_ASHR_I64",				0x91800000, SOP2},
	{"S_BFM_B32",				0x92000000, SOP2},
	{"S_BFM_B64",				0x92800000, SOP2},
	{"S_MUL_I32",				0x93000000, SOP2},
	{"S_BFE_U32",				0x93800000, SOP2},
	{"S_BFE_I32",				0x94000000, SOP2},
	{"S_BFE_U64",				0x94800000, SOP2},
	{"S_BFE_I64",				0x95000000, SOP2},
	{"S_CBRANCH_G_FORK",		0x95800000, SOP2},
	{"S_ABSDIFF_I32",			0x96000000, SOP2},

	// SOP1 instructions
	{"S_MOV_B32",				0xBE800300,	SOP1},
	{"S_MOV_B64",				0xBE800400,	SOP1},
	{"S_CMOV_B32",				0xBE800500,	SOP1},
	{"S_CMOV_B64",				0xBE800600,	SOP1},
	{"S_NOT_B32",				0xBE800700,	SOP1},
	{"S_NOT_B64",				0xBE800800,	SOP1},
	{"S_WQM_B32",				0xBE800900,	SOP1},
	{"S_WQM_B64	",				0xBE800A00,	SOP1},
	{"S_BREV_B32",				0xBE800B00,	SOP1},
	{"S_BREV_B64",				0xBE800C00,	SOP1},
	{"S_BCNT0_I32_B32",			0xBE800D00,	SOP1},
	{"S_BCNT0_I32_B64",			0xBE800E00,	SOP1},
	{"S_BCNT1_I32_B32",			0xBE800F00,	SOP1},
	{"S_BCNT1_I32_B64",			0xBE801000,	SOP1},
	{"S_FF0_I32_B32",			0xBE801100,	SOP1},
	{"S_FF0_I32_B64",			0xBE801200,	SOP1},
	{"S_FF1_I32_B32",			0xBE801300,	SOP1},
	{"S_FF1_I32_B64",			0xBE801400,	SOP1},
	{"S_FLBIT_I32_B32",			0xBE801500,	SOP1},
	{"S_FLBIT_I32_B64",			0xBE801600,	SOP1},
	{"S_FLBIT_I32",				0xBE801700,	SOP1},
	{"S_FLBIT_I32_I64",			0xBE801800,	SOP1},
	{"S_SEXT_I32_I8",			0xBE801900,	SOP1},
	{"S_SEXT_I32_I16",			0xBE801A00,	SOP1},
	{"S_BITSET0_B32",			0xBE801B00,	SOP1},
	{"S_BITSET0_B64",			0xBE801C00,	SOP1},
	{"S_BITSET1_B32",			0xBE801D00,	SOP1},
	{"S_BITSET1_B64",			0xBE801E00,	SOP1},
	{"S_GETPC_B64",				0xBE801F00,	SOP1},
	{"S_SETPC_B64",				0xBE802000,	SOP1},
	{"S_SWAPPC_B64",			0xBE802100,	SOP1},
	{"S_RFE_B64",				0xBE802200,	SOP1},
	{"S_AND_SAVEEXEC_B64",		0xBE802400,	SOP1},
	{"S_OR_SAVEEXEC_B64",		0xBE802500,	SOP1},
	{"S_XOR_SAVEEXEC_B64",		0xBE802600,	SOP1},
	{"S_ANDN2_SAVEEXEC_B64",	0xBE802700,	SOP1},
	{"S_ORN2_SAVEEXEC_B64",		0xBE802800,	SOP1},
	{"S_NAND_SAVEEXEC_B64",		0xBE802900,	SOP1},
	{"S_NOR_SAVEEXEC_B64",		0xBE802A00,	SOP1},
	{"S_XNOR_SAVEEXEC_B64",		0xBE802B00,	SOP1},
	{"S_QUADMASK_B32",			0xBE802C00,	SOP1},
	{"S_QUADMASK_B64",			0xBE802D00,	SOP1},
	{"S_MOVRELS_B32",			0xBE802E00,	SOP1},
	{"S_MOVRELS_B64",			0xBE802F00,	SOP1},
	{"S_MOVRELD_B32",			0xBE803000,	SOP1},
	{"S_MOVRELD_B64",			0xBE803100,	SOP1},
	{"S_CBRANCH_JOIN",			0xBE803200,	SOP1},
	{"S_ABS_I32",				0xBE803400,	SOP1},
	{"S_MOV_FED_B32",			0xBE803500,	SOP1},

	// SOPC instructions
	{"S_CMP_EQ_I32",			0xBF000000,	SOPC},
	{"S_CMP_LG_I32",			0xBF000000,	SOPC},
	{"S_CMP_GT_I32",			0xBF000000,	SOPC},
	{"S_CMP_GE_I32",			0xBF000000,	SOPC},
	{"S_CMP_LT_I32",			0xBF000000,	SOPC},
	{"S_CMP_LE_I32",			0xBF000000,	SOPC},
	{"S_CMP_EQ_U32",			0xBF000000,	SOPC},
	{"S_CMP_LG_U32",			0xBF000000,	SOPC},
	{"S_CMP_GT_U32",			0xBF000000,	SOPC},
	{"S_CMP_GE_U32",			0xBF000000,	SOPC},
	{"S_CMP_LT_U32",			0xBF000000,	SOPC},
	{"S_CMP_LE_U32",			0xBF000000,	SOPC},
	{"S_BITCMP0_B32",			0xBF000000,	SOPC},
	{"S_BITCMP1_B32",			0xBF000000,	SOPC},
	{"S_BITCMP0_B64",			0xBF000000,	SOPC},
	{"S_BITCMP1_B64",			0xBF000000,	SOPC},
	{"S_SETVSKIP",				0xBF000000,	SOPC},

	// VOP2 instructions
	{"V_CNDMASK_B32",			0x00000000, VOP2},
	{"V_READLANE_B32",			0x02000000, VOP2},
	{"V_WRITELANE_B32",			0x04000000, VOP2},
	{"V_ADD_F32",				0x06000000, VOP2},
	{"V_SUB_F32",				0x08000000, VOP2},
	{"V_SUBREV_F32",			0x0A000000, VOP2},
	{"V_MAC_LEGACY_F32",		0x0C000000, VOP2},
	{"V_MUL_LEGACY_F32",		0x0E000000, VOP2},
	{"V_MUL_F32",				0x10000000, VOP2},
	{"V_MUL_I32_I24",			0x12000000, VOP2},
	{"V_MUL_HI_I32_I24",		0x14000000, VOP2},
	{"V_MUL_U32_U24",			0x16000000, VOP2},
	{"V_MUL_HI_U32_U24",		0x18000000, VOP2},
	{"V_MIN_LEGACY_F32",		0x1A000000, VOP2},
	{"V_MAX_LEGACY_F32",		0x1C000000, VOP2},
	{"V_MIN_F32",				0x1E000000, VOP2},
	{"V_MAX_F32",				0x20000000, VOP2},
	{"V_MIN_I32",				0x22000000, VOP2},
	{"V_MAX_I32",				0x24000000, VOP2},
	{"V_MIN_U32",				0x26000000, VOP2},
	{"V_MAX_U32",				0x28000000, VOP2},
	{"V_LSHR_B32",				0x2A000000, VOP2},
	{"V_LSHRREV_B32",			0x2C000000, VOP2},
	{"V_ASHR_I32",				0x2E000000, VOP2},
	{"V_ASHRREV_I32",			0x30000000, VOP2},
	{"V_LSHL_B32",				0x32000000, VOP2},
	{"V_LSHLREV_B32",			0x34000000, VOP2},
	{"V_AND_B32",				0x36000000, VOP2},
	{"V_OR_B32",				0x38000000, VOP2},
	{"V_XOR_B32",				0x3A000000, VOP2},
	{"V_BFM_B32",				0x3C000000, VOP2},
	{"V_MAC_F32",				0x3E000000, VOP2},
	{"V_MADMK_F32",				0x40000000, VOP2},
	{"V_MADAK_F32",				0x42000000, VOP2},
	{"V_BCNT_U32_B32",			0x44000000, VOP2},
	{"V_MBCNT_LO_U32_B32",		0x46000000, VOP2},
	{"V_MBCNT_HI_U32_B32",		0x48000000, VOP2},
	{"V_ADD_I32",				0x4A000000, VOP2},
	{"V_SUB_I32",				0x4C000000, VOP2},
	{"V_SUBREV_I32",			0x4E000000, VOP2},
	{"V_ADDC_U32",				0x50000000, VOP2},
	{"V_SUBB_U32",				0x52000000, VOP2},
	{"V_SUBBREV_U32",			0x54000000, VOP2},
	{"V_LDEXP_F32",				0x56000000, VOP2},
	{"V_CVT_PKACCUM_U8_F32",	0x58000000, VOP2},
	{"V_CVT_PKNORM_I16_F32",	0x5A000000, VOP2},
	{"V_CVT_PKNORM_U16_F32",	0x5C000000, VOP2},
	{"V_CVT_PKRTZ_F16_F32",		0x5E000000, VOP2},
	{"V_CVT_PK_U16_U32",		0x60000000, VOP2},
	{"V_CVT_PK_I16_I32",		0x62000000, VOP2},

	// VOP1 instructions
	{"V_NOP",					0x7E000000,	VOP1},
	{"V_MOV_B32",				0x7E000200,	VOP1},
	{"V_READFIRSTLANE_B32",		0x7E000400,	VOP1},
	{"V_CVT_I32_F64",			0x7E000600,	VOP1},
	{"V_CVT_F64_I32",			0x7E000800,	VOP1},
	{"V_CVT_F32_I32",			0x7E000A00,	VOP1},
	{"V_CVT_F32_U32",			0x7E000C00,	VOP1},
	{"V_CVT_U32_F32",			0x7E000E00,	VOP1},
	{"V_CVT_I32_F32",			0x7E001000,	VOP1},
	{"V_MOV_FED_B32",			0x7E001200,	VOP1},
	{"V_CVT_F16_F32",			0x7E001400,	VOP1},
	{"V_CVT_F32_F16",			0x7E001600,	VOP1},
	{"V_CVT_RPI_I32_F32",		0x7E001800,	VOP1},
	{"V_CVT_FLR_I32_F32",		0x7E001A00,	VOP1},
	{"V_CVT_OFF_F32_I4",		0x7E001C00,	VOP1},
	{"V_CVT_F32_F64",			0x7E001E00,	VOP1},
	{"V_CVT_F64_F32",			0x7E002000,	VOP1},
	{"V_CVT_F32_UBYTE0",		0x7E002200,	VOP1},
	{"V_CVT_F32_UBYTE1",		0x7E002400,	VOP1},
	{"V_CVT_F32_UBYTE2",		0x7E002600,	VOP1},
	{"V_CVT_F32_UBYTE3",		0x7E002800,	VOP1},
	{"V_CVT_U32_F64",			0x7E002A00,	VOP1},
	{"V_CVT_F64_U32",			0x7E002C00,	VOP1},
	{"V_FRACT_F32",				0x7E004000,	VOP1},
	{"V_TRUNC_F32",				0x7E004200,	VOP1},
	{"V_CEIL_F32",				0x7E004400,	VOP1},
	{"V_RNDNE_F32",				0x7E004600,	VOP1},
	{"V_FLOOR_F32",				0x7E004800,	VOP1},
	{"V_EXP_F32",				0x7E004A00,	VOP1},
	{"V_LOG_CLAMP_F32",			0x7E004C00,	VOP1},
	{"V_LOG_F32",				0x7E004E00,	VOP1},
	{"V_RCP_CLAMP_F32",			0x7E005000,	VOP1},
	{"V_RCP_LEGACY_F32",		0x7E005200,	VOP1},
	{"V_RCP_F32",				0x7E005400,	VOP1},
	{"V_RCP_IFLAG_F32",			0x7E005600,	VOP1},
	{"V_RSQ_CLAMP_F32",			0x7E005800,	VOP1},
	{"V_RSQ_LEGACY_F32",		0x7E005A00,	VOP1},
	{"V_RSQ_F32",				0x7E005C00,	VOP1},
	{"V_RCP_F64",				0x7E005E00,	VOP1},
	{"V_RCP_CLAMP_F64",			0x7E006000,	VOP1},
	{"V_RSQ_F64",				0x7E006200,	VOP1},
	{"V_RSQ_CLAMP_F64",			0x7E006400,	VOP1},
	{"V_SQRT_F32",				0x7E006600,	VOP1},
	{"V_SQRT_F64",				0x7E006800,	VOP1},
	{"V_SIN_F32",				0x7E006A00,	VOP1},
	{"V_COS_F32",				0x7E006C00,	VOP1},
	{"V_NOT_B32",				0x7E006E00,	VOP1},
	{"V_BFREV_B32",				0x7E007000,	VOP1},
	{"V_FFBH_U32",				0x7E007200,	VOP1},
	{"V_FFBL_B32",				0x7E007400,	VOP1},
	{"V_FFBH_I32",				0x7E007600,	VOP1},
	{"V_FREXP_EXP_I32_F64",		0x7E007800,	VOP1},
	{"V_FREXP_MANT_F64",		0x7E007A00,	VOP1},
	{"V_FRACT_F64",				0x7E007C00,	VOP1},
	{"V_FREXP_EXP_I32_F32",		0x7E007E00,	VOP1},
	{"V_FREXP_MANT_F32",		0x7E008000,	VOP1},
	{"V_CLREXCP",				0x7E008200,	VOP1},
	{"V_MOVRELD_B32",			0x7E008400,	VOP1},
	{"V_MOVRELS_B32",			0x7E008600,	VOP1},
	{"V_MOVRELSD_B32",			0x7E008800,	VOP1}
};

const int isa_instr_count = sizeof(isa_instr_list) / sizeof(isa_instr);